<!DOCTYPE HTML>
<!-- Thymeleaf fragments -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments :: head}">

</head>
<body>
	<div th:replace="~{fragments :: nav-bar}"></div>

	<div class="container">
		<div th:replace="~{fragments :: header('Analytics')}"></div>

		<div class="card mb-3 mt-3">
			<div class="card-body">
				<div class="row">
					<div class="col-12">
						<div class="row">
							
							<!-- User analytics board to display summary information about applications -->
							<div class="col-sm-3 mb-2" style="width: 10rem;">
								<div class="card">
									<div class="card-body">
										<h6 th:text="'Jobs applied: '" class="card-title">All applications</h6>
										<p th:text="${userJobsTotal}" class="card-text">Total number</p>
									</div>
								</div>
							</div>
							<div class="col-sm-3 mb-2" style="width: 10rem;">
								<div class="card">
									<div class="card-body">
										<h6 th:text="'Without response: '" class="card-title">Applications waiting for response</h6>
										<p th:text="${userJobsApplied}" class="card-text">Total number</p>
									</div>
								</div>
							</div>
							<div class="col-sm-3 mb-2" style="width: 10rem;">
								<div class="card">
									<div class="card-body">
										<h6 th:text="'Interviewed: '" class="card-title">Already had an interview</h6>
										<p th:text="${userJobsInterviewed}" class="card-text">Total number</p>
									</div>
								</div>
							</div>
							<div class="col-sm-3 mb-2" style="width: 10rem;">
								<div class="card">
									<div class="card-body">
										<h6 th:text="'Received an offer: '" class="card-title">Applications waiting for response</h6>
										<p th:text="${userJobsOffered}" class="card-text">Total number</p>
									</div>
								</div>
							</div>
							<div class="col-sm-3 mb-2" style="width: 10rem;">
								<div class="card">
									<div class="card-body">
										<h6 th:text="'Declined/rejected jobs: '" class="card-title">Applications waiting for response</h6>
										<p th:text="${userJobsDeclined}" class="card-text">Total number</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="card mb-3 mt-3">
			<div class="card-body card-body text-center">
				<div class="row justify-content-md-center">
					
					<!-- API QuickChart graph displayed here -->
					<div>
						<img th:src="@{${src}}" />
					</div>
					
					<!-- Jobs insight -->
					<div class="card-body card-body text-center">
						<div th:text="'- Job seekers, on average, apply for ' + ${avgOfOfferReceived} + ' jobs to receive 1 offer back'"> </div>
					</div>
					
				</div>
			</div>
		</div>
	</div>
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
	<script src="js/scripts.js"></script>
</body>
</html>